<div class="offcanvas offcanvas-end" id="shoppingCart" tabindex="-1" aria-labelledby="shoppingCartLabel"
  style="width:100%;max-width:420px">

  <div class="offcanvas-header" style="border-bottom:1px solid #e5e7eb;padding:16px">
    <h5 class="offcanvas-title" id="shoppingCartLabel" style="font-size:18px;font-weight:700">
      Shopping Cart
    </h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
  </div>

  <div class="offcanvas-body" style="padding:12px;display:flex;flex-direction:column;gap:12px">

    <% for(let i=0;i<cartData.cartItems.length;i++){ let item=cartData.cartItems[i]; %>

      <div
        style="display:flex;gap:12px;align-items:flex-start;border:1px solid #e5e7eb;border-radius:12px;padding:12px">

        <a href="/product?id=<%=item.booking_id%>" style="flex-shrink:0">
          <img src="/images/<%=item.bookingimage%>" style="width:64px;height:64px;border-radius:8px;object-fit:cover">
        </a>

        <div style="flex:1;min-width:0">

          <a href="/product?id=<%=item.booking_id%>"
            style="display:block;font-size:14px;font-weight:600;color:#111;text-decoration:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">
            <%= (item.bookingname || '' ).replace(/"/g,'') %>
          </a>

          <div style="font-size:14px;font-weight:700;margin:6px 0">
            Rs. <%=item.price%>
          </div>

          <div style="display:flex;align-items:center;justify-content:space-between;gap:8px">

            <div style="display:flex;align-items:center;border:1px solid #d1d5db;border-radius:8px;overflow:hidden">

              <button onclick="addToCart1('<%=item.booking_id%>','-1','<%=item.quantity%>')"
                style="width:28px;height:28px;border:none;background:#f5f5f5;font-size:16px">âˆ’</button>

              <input value="<%=item.quantity%>" readonly
                style="width:36px;height:28px;border:none;text-align:center;font-size:13px">

              <button onclick="addToCart1('<%=item.booking_id%>','+1','<%=item.quantity%>')"
                style="width:28px;height:28px;border:none;background:#f5f5f5;font-size:16px">+</button>

            </div>

            <button onclick="addToCart1('<%=item.booking_id%>','0','0')"
              style="border:none;background:none;font-size:18px;cursor:pointer">
              ðŸ—‘
            </button>

          </div>

        </div>

      </div>

      <% } %>

  </div>

  <div style="border-top:1px solid #e5e7eb;padding:14px;display:flex;flex-direction:column;gap:12px">

    <div style="display:flex;justify-content:space-between;font-size:14px">
      <span style="color:#6b7280">Subtotal</span>
      <span style="font-weight:700">Rs. <%=cartData.totalPrice%></span>
    </div>

    <div style="display:flex;gap:10px">
      <a href="/mycart"
        style="flex:1;text-align:center;padding:12px;border-radius:10px;border:1px solid #2563eb;color:#2563eb;font-weight:600;text-decoration:none">
        View Cart
      </a>
      <a href="/checkout"
        style="flex:1;text-align:center;padding:12px;border-radius:10px;background:#2563eb;color:#fff;font-weight:600;text-decoration:none">
        Checkout
      </a>
    </div>

  </div>

</div>